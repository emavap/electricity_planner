# Services for Electricity Planner integration
set_manual_override:
  name: Set Manual Override
  description: Manually override charging decisions for battery or car
  fields:
    entry_id:
      name: Config Entry
      description: Target a specific Electricity Planner config entry when multiple are loaded
      required: false
      example: "abcd1234efgh5678"
      selector:
        text:
    target:
      name: Target
      description: Which override to set (battery, car, both, charger_limit, or grid_setpoint)
      required: true
      example: "battery"
      selector:
        select:
          options:
            - "battery"
            - "car"
            - "both"
            - "charger_limit"
            - "grid_setpoint"
    action:
      name: Action
      description: Whether to force charging ON or wait (required for battery/car/both targets)
      required: false
      example: "force_charge"
      selector:
        select:
          options:
            - "force_charge"
            - "force_wait"
    duration:
      name: Duration (minutes)
      description: Optional number of minutes before the override automatically clears
      required: false
      example: 60
      selector:
        number:
          min: 1
          max: 1440
          unit_of_measurement: "minutes"
    reason:
      name: Reason
      description: Optional reason for the override (for logging)
      required: false
      example: "Emergency charging needed"
      selector:
        text:
    charger_limit:
      name: Charger Limit (Watts)
      description: Optional override for car charger power limit (leave empty to use automatic calculation)
      required: false
      example: 5000
      selector:
        number:
          min: 0
          max: 50000
          step: 100
          unit_of_measurement: "W"
    grid_setpoint:
      name: Grid Setpoint (Watts)
      description: Optional override for grid import power setpoint (leave empty to use automatic calculation)
      required: false
      example: 8000
      selector:
        number:
          min: 0
          max: 50000
          step: 100
          unit_of_measurement: "W"

clear_manual_override:
  name: Clear Manual Override
  description: Clear any active manual overrides
  fields:
    entry_id:
      name: Config Entry
      description: Target a specific Electricity Planner config entry when multiple are loaded
      required: false
      example: "abcd1234efgh5678"
      selector:
        text:
    target:
      name: Target
      description: Which device(s) override to clear (battery, car, both, charger_limit, grid_setpoint, or all)
      required: false
      example: "all"
      default: "all"
      selector:
        select:
          options:
            - "battery"
            - "car"
            - "both"
            - "charger_limit"
            - "grid_setpoint"
            - "all"
